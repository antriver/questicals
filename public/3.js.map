{"version":3,"file":"3.js","sources":["webpack:///HostView.vue","webpack:///./src/frontend/js/views/HostView.vue?5eb9","webpack:///./src/frontend/js/views/HostView.vue?30ec","webpack:///./src/frontend/js/views/HostView.vue?2f68","webpack:///./src/classes/Answer.js","webpack:///./src/classes/Question.js","webpack:///./src/frontend/js/views/HostView.vue","webpack:///./src/frontend/js/views/HostView.vue?0d19","webpack:///./src/frontend/js/views/HostView.vue?bc3c","webpack:///./src/frontend/js/views/HostView.vue?d00a"],"sourcesContent":["<template>\n    <div v-if=\"isHost\"\n         id=\"host\">\n        <div v-if=\"roomQuestion\"\n             class=\"text-center\">\n            <h3 v-if=\"!roomQuestion.started\">\n                Question Ready\n            </h3>\n            <h3 v-else-if=\"!roomQuestion.ended\">\n                Question Started\n            </h3>\n            <h3 v-else>\n                Question Ended\n            </h3>\n\n            <p>\n                <strong>Correct Answer:</strong> {{ roomQuestion.answer }}\n            </p>\n\n            <div v-if=\"!roomQuestion.started\">\n                <a class=\"btn btn-success btn-lg\"\n                   @click.prevent=\"startQuestion\">Start Question</a>\n            </div>\n            <div v-else-if=\"!roomQuestion.ended\">\n                <a class=\"btn btn-danger btn-lg\"\n                   @click.prevent=\"endQuestion\">End Question</a>\n            </div>\n            <div v-else>\n                <a class=\"btn btn-warning btn-lg\"\n                   @click.prevent=\"clearQuestion\">Next Question</a>\n            </div>\n\n            <div v-if=\"roomQuestion.started\">\n                <h3>Answers</h3>\n                <table class=\"table table-striped\">\n                    <tbody>\n                        <tr v-for=\"answer in answers\"\n                            :key=\"answer.player.id\">\n                            <td class=\"text-left\">\n                                {{ answer.player.name }}\n                            </td>\n                            <td class=\"text-right\">\n                                {{ answer.answer }}\n                                <span v-if=\"answer.correct\"\n                                      class=\"label label-success\">Correct</span>\n                                <span v-else-if=\"answer.answer\"\n                                      class=\"label label-danger\">Incorrect</span>\n                                <span v-else\n                                      class=\"label label-default\">Unanswered</span>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <template v-else-if=\"nextQuestion\">\n            <AnswerInput v-if=\"nextQuestion && !nextQuestion.answer\"\n                         title=\"Provide the correct answer.\"\n                         :question=\"nextQuestion\"\n                         :active=\"true\"\n                         @choice=\"setCorrectAnswer\"></AnswerInput>\n        </template>\n        <div v-else\n             id=\"new-question-btns\">\n            <a class=\"btn btn-primary btn-lg\"\n               @click.prevent=\"newQuestion('letters')\">New Letters Question</a>\n\n            <!--<a class=\"btn btn-primary btn-lg\"\n                   @click.prevent=\"newQuestion('multiple')\">New Multiple Choice Question</a>\n\n                <a class=\"btn btn-primary btn-lg\"\n                   @click.prevent=\"newQuestion('numbers')\">New Numbers Question</a>-->\n            <br />\n            <br />\n            <br />\n\n            <Scores />\n\n            <a class=\"btn btn-sm btn-danger\"\n               @click.prevent=\"resetScores\">Reset Scores</a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Answer from '@/classes/Answer';\nimport AnswerInput from '../components/AnswerInput';\nimport Question from '@/classes/Question';\nimport { generateId } from '@/funcs';\nimport { mapState } from 'vuex';\nimport Scores from '@frontend/components/Scores';\n\nexport default {\n    components: { Scores, AnswerInput },\n\n    data() {\n        return {\n            /**\n             * @type {?Question}\n             */\n            nextQuestion: null,\n\n            isHost: false\n        };\n    },\n\n    computed: {\n        ...mapState(['room']),\n\n        roomQuestion() {\n            return this.room ? this.room.currentQuestion : null;\n        },\n\n        players() {\n            return Object.values(this.room.players).filter((p) => p.active);\n        },\n\n        answers() {\n            if (!this.room || !this.room.currentQuestion) {\n                return [];\n            }\n\n            const answers = this.players.map((player) => {\n                if (this.room.currentQuestion.answers.hasOwnProperty(player.id)) {\n                    return this.room.currentQuestion.answers[player.id];\n                }\n\n                return new Answer({ player });\n            });\n\n            answers.sort((a, b) => {\n                if (a.answeredAt && b.answeredAt) {\n                    return a.answeredAt > b.answeredAt ? 1 : -1;\n                } else if (a.answeredAt) {\n                    return -1;\n                } else if (b.answeredAt) {\n                    return 1;\n                }\n\n                return a.player.name < b.player.name;\n            });\n\n            return answers;\n        }\n    },\n\n    created() {\n        // Tell the server this socket will be a host and should receive more info.\n        // Hide the UI until we know this is done.\n        this.$root.$options.socket.emit('becomeHost', {}, () => {\n            this.isHost = true;\n        });\n    },\n\n    methods: {\n        newQuestion(type) {\n            this.nextQuestion = new Question({\n                id: generateId(),\n                type\n            });\n        },\n\n        setCorrectAnswer(answer) {\n            this.nextQuestion.answer = answer;\n\n            this.$root.$options.socket.emit('newQuestion', this.nextQuestion);\n        },\n\n        startQuestion() {\n            this.$root.$options.socket.emit('startQuestion', this.roomQuestion.id);\n        },\n\n        endQuestion() {\n            this.$root.$options.socket.emit('endQuestion', this.roomQuestion.id);\n        },\n\n        clearQuestion() {\n            this.$root.$options.socket.emit('clearQuestion');\n            this.nextQuestion = null;\n        },\n\n        resetScores() {\n            this.$root.$options.socket.emit('resetScores');\n        }\n    }\n};\n</script>\n\n<style lang=\"less\">\n#host {\n    > div {\n        width: 100%;\n        max-width: 400px;\n    }\n}\n#new-question-btns {\n    padding: 10px;\n    text-align: center;\n    margin: auto;\n\n    .btn {\n        margin: 5px;\n    }\n}\n</style>\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#host > div {\\n  width: 100%;\\n  max-width: 400px;\\n}\\n#new-question-btns {\\n  padding: 10px;\\n  text-align: center;\\n  margin: auto;\\n}\\n#new-question-btns .btn {\\n  margin: 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.isHost\n    ? _c(\n        \"div\",\n        { attrs: { id: \"host\" } },\n        [\n          _vm.roomQuestion\n            ? _c(\"div\", { staticClass: \"text-center\" }, [\n                !_vm.roomQuestion.started\n                  ? _c(\"h3\", [_vm._v(\"\\n            Question Ready\\n        \")])\n                  : !_vm.roomQuestion.ended\n                  ? _c(\"h3\", [\n                      _vm._v(\"\\n            Question Started\\n        \")\n                    ])\n                  : _c(\"h3\", [\n                      _vm._v(\"\\n            Question Ended\\n        \")\n                    ]),\n                _vm._v(\" \"),\n                _c(\"p\", [\n                  _c(\"strong\", [_vm._v(\"Correct Answer:\")]),\n                  _vm._v(\" \" + _vm._s(_vm.roomQuestion.answer) + \"\\n        \")\n                ]),\n                _vm._v(\" \"),\n                !_vm.roomQuestion.started\n                  ? _c(\"div\", [\n                      _c(\n                        \"a\",\n                        {\n                          staticClass: \"btn btn-success btn-lg\",\n                          on: {\n                            click: function($event) {\n                              $event.preventDefault()\n                              return _vm.startQuestion($event)\n                            }\n                          }\n                        },\n                        [_vm._v(\"Start Question\")]\n                      )\n                    ])\n                  : !_vm.roomQuestion.ended\n                  ? _c(\"div\", [\n                      _c(\n                        \"a\",\n                        {\n                          staticClass: \"btn btn-danger btn-lg\",\n                          on: {\n                            click: function($event) {\n                              $event.preventDefault()\n                              return _vm.endQuestion($event)\n                            }\n                          }\n                        },\n                        [_vm._v(\"End Question\")]\n                      )\n                    ])\n                  : _c(\"div\", [\n                      _c(\n                        \"a\",\n                        {\n                          staticClass: \"btn btn-warning btn-lg\",\n                          on: {\n                            click: function($event) {\n                              $event.preventDefault()\n                              return _vm.clearQuestion($event)\n                            }\n                          }\n                        },\n                        [_vm._v(\"Next Question\")]\n                      )\n                    ]),\n                _vm._v(\" \"),\n                _vm.roomQuestion.started\n                  ? _c(\"div\", [\n                      _c(\"h3\", [_vm._v(\"Answers\")]),\n                      _vm._v(\" \"),\n                      _c(\"table\", { staticClass: \"table table-striped\" }, [\n                        _c(\n                          \"tbody\",\n                          _vm._l(_vm.answers, function(answer) {\n                            return _c(\"tr\", { key: answer.player.id }, [\n                              _c(\"td\", { staticClass: \"text-left\" }, [\n                                _vm._v(\n                                  \"\\n                            \" +\n                                    _vm._s(answer.player.name) +\n                                    \"\\n                        \"\n                                )\n                              ]),\n                              _vm._v(\" \"),\n                              _c(\"td\", { staticClass: \"text-right\" }, [\n                                _vm._v(\n                                  \"\\n                            \" +\n                                    _vm._s(answer.answer) +\n                                    \"\\n                            \"\n                                ),\n                                answer.correct\n                                  ? _c(\n                                      \"span\",\n                                      { staticClass: \"label label-success\" },\n                                      [_vm._v(\"Correct\")]\n                                    )\n                                  : answer.answer\n                                  ? _c(\n                                      \"span\",\n                                      { staticClass: \"label label-danger\" },\n                                      [_vm._v(\"Incorrect\")]\n                                    )\n                                  : _c(\n                                      \"span\",\n                                      { staticClass: \"label label-default\" },\n                                      [_vm._v(\"Unanswered\")]\n                                    )\n                              ])\n                            ])\n                          }),\n                          0\n                        )\n                      ])\n                    ])\n                  : _vm._e()\n              ])\n            : _vm.nextQuestion\n            ? [\n                _vm.nextQuestion && !_vm.nextQuestion.answer\n                  ? _c(\"AnswerInput\", {\n                      attrs: {\n                        title: \"Provide the correct answer.\",\n                        question: _vm.nextQuestion,\n                        active: true\n                      },\n                      on: { choice: _vm.setCorrectAnswer }\n                    })\n                  : _vm._e()\n              ]\n            : _c(\n                \"div\",\n                { attrs: { id: \"new-question-btns\" } },\n                [\n                  _c(\n                    \"a\",\n                    {\n                      staticClass: \"btn btn-primary btn-lg\",\n                      on: {\n                        click: function($event) {\n                          $event.preventDefault()\n                          return _vm.newQuestion(\"letters\")\n                        }\n                      }\n                    },\n                    [_vm._v(\"New Letters Question\")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"br\"),\n                  _vm._v(\" \"),\n                  _c(\"br\"),\n                  _vm._v(\" \"),\n                  _c(\"br\"),\n                  _vm._v(\" \"),\n                  _c(\"Scores\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"a\",\n                    {\n                      staticClass: \"btn btn-sm btn-danger\",\n                      on: {\n                        click: function($event) {\n                          $event.preventDefault()\n                          return _vm.resetScores($event)\n                        }\n                      }\n                    },\n                    [_vm._v(\"Reset Scores\")]\n                  )\n                ],\n                1\n              )\n        ],\n        2\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=style&index=0&lang=less&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3a37b762\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=style&index=0&lang=less&\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=style&index=0&lang=less&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","const { hydrate } = require('../funcs');\n\nclass Answer {\n    constructor(data) {\n        /**\n         * @type {Player}\n         */\n        this.player = null;\n\n        /**\n         * @type {Number}\n         */\n        this.questionId = null;\n\n        /**\n         * @type {string}\n         */\n        this.answer = '';\n\n        /**\n         * @type {boolean}\n         */\n        this.correct = false;\n\n        /**\n         * @type {Date}\n         */\n        this.answeredAt = null;\n\n        hydrate(this, data);\n\n        if (this.answeredAt && !(this.answeredAt instanceof Date)) {\n            this.answeredAt = new Date(this.answeredAt);\n        }\n    }\n}\n\nmodule.exports = Answer;\n","const { hydrate } = require('../funcs');\n\nclass Question {\n    constructor(data = {}) {\n        /**\n         * @type {Number}\n         */\n        this.id = null;\n\n        /**\n         * @type {string}\n         */\n        this.type = '';\n\n        /**\n         * @type {string}\n         */\n        this.answer = '';\n\n        /**\n         * @type {boolean}\n         */\n        this.started = false;\n\n        /**\n         * @type {boolean}\n         */\n        this.ended = false;\n\n        /**\n         * @type {number}\n         */\n        this.points = 1;\n\n        /**\n         * @type {boolean}\n         */\n        this.evil = false;\n\n        /**\n         * @type {Object<Answer>}\n         */\n        this.answers = {};\n\n        hydrate(this, data);\n    }\n\n    /**\n     * @param {Answer} answer\n     */\n    addAnswer(answer) {\n        this.answers[answer.player.id] = answer;\n    }\n}\n\nmodule.exports = Question;\n","import { render, staticRenderFns } from \"./HostView.vue?vue&type=template&id=2de6e8f0&\"\nimport script from \"./HostView.vue?vue&type=script&lang=js&\"\nexport * from \"./HostView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HostView.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/Anthony/dev/misc/quiz-app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2de6e8f0')) {\n      api.createRecord('2de6e8f0', component.options)\n    } else {\n      api.reload('2de6e8f0', component.options)\n    }\n    module.hot.accept(\"./HostView.vue?vue&type=template&id=2de6e8f0&\", function () {\n      api.rerender('2de6e8f0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/frontend/js/views/HostView.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HostView.vue?vue&type=template&id=2de6e8f0&\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;;;AAGA;AAEA;AANA;AAQA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AArCA;AAwCA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AA7BA;AA9DA;;;;;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVA;AAAA;AACA;AACA;AACA;AACA;AAAA;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;ACrCA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;;;;AAGA;AAEA;AACA;AAEA;;;;;;;AAGA;AACA;AACA;;;;;;AAGA;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}